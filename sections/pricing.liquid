<section id='pricing' class='section-padding bg-dark relative'>
  <div class='absolute inset-0 bg-neuron-pattern opacity-5'></div>

  <div class='container-custom relative'>
    {% assign title = section.settings.section_title | default: '' %}
    {% assign parts = title | split: ',' %}
    {% assign main_title = parts[0] | strip %}

    <div class='text-center max-w-3xl mx-auto mb-16 fade-in is-visible'>
      <h2 class='text-white mb-6 text-5xl md:text-6xl font-bold tracking-tight'>
        {{ main_title }}
        {% if parts.size > 1 %}
          <span class='block text-5xl md:text-6xl font-bold tracking-tight mt-2 text-primary'>
            {{ parts[1] | strip }}
          </span>
        {% endif %}
      </h2>
      <p class='text-light text-xl'>{{ section.settings.section_subtitle }}</p>
    </div>

    <div class='grid md:grid-cols-3 gap-8'>
      {% for block in section.blocks %}
        <div class='card flex flex-col justify-between fade-in border border-gray-800 hover:border-primary/30 transform hover:-translate-y-1 transition-all duration-300'>
          {% if block.settings.card_image != blank %}
            <div class='aspect-w-1 aspect-h-1 relative'>
              {{
                block.settings.card_image
                | image_url: width: 800
                | image_tag: class: 'w-full h-64 object-cover', alt: 'Pro Pack'
              }}
              <div class='absolute inset-0 bg-gradient-to-t from-darker to-transparent opacity-70'></div>
            </div>
          {% else %}
            <div class='h-64 bg-darker flex items-center justify-center'>
              <p class='text-light/50'>Add image</p>
            </div>
          {% endif %}

          <div class='p-6'>
            <h3 class='text-white text-xl font-bold mb-1'>{{ block.settings.card_title }}</h3>
            <p class='text-primary text-sm mb-4'>{{ block.settings.pack_size }}</p>
            <div class='mb-6'>
              <span class='text-white text-3xl font-bold'>{{ block.settings.card_price }}</span>
              <span class='text-light text-sm ml-2'>{{ block.settings.price_extra }}</span>
            </div>

            <ul class='space-y-3 mb-8'>
              {% assign benefits_string = block.settings.card_list | default: '' %}
              {% assign split_benefits = benefits_string | split: ',' %}

              {% for benefit in split_benefits %}
                {% assign item = benefit | strip %}

                {% if item != '' %}
                  <li class='flex items-start'>
                    <svg
                      class='h-5 w-5 text-primary flex-shrink-0 mt-0.5 mr-2'
                      viewBox='0 0 24 24'
                      fill='none'
                      stroke='currentColor'
                      stroke-width='2'
                      stroke-linecap='round'
                      stroke-linejoin='round'
                    >
                      <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
                      <polyline points="22 4 12 14.01 9 11.01"/>
                    </svg>
                    <span class='text-light text-sm'>{{ item }}</span>
                  </li>
                {% endif %}
              {% endfor %}
            </ul>

            <a
              href='{{ block.settings.cta_link }}'
              class='btn w-full px-8 py-4 text-lg font-bold hover:text-mint hover:transform hover:scale-105 transition-transform'
            >
              {{ block.settings.cta_text }}
            </a>
          </div>
        </div>
      {% endfor %}
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Pricing",
  "settings": [
    {
      "type": "text",
      "id": "section_title",
      "label": "Section title",
      "default": "CHOOSE YOUR, MENTAL ADVANTAGE",
      "info": "Separate title with comma to split white & green text/new line"
    },
    {
      "type": "text",
      "id": "section_subtitle",
      "label": "Section subtitle",
      "default": "Risk-free trial or select the plan that fits your performance goals"
    }
  ],
  "max_blocks": 3,
  "blocks": [
    {
      "type": "section_card",
      "name": "Section Card",
      "settings": [
        {
          "type": "image_picker",
          "id": "card_image",
          "label": "Card Image"
        },
        {
          "type": "text",
          "id": "card_title",
          "label": "Card Title"
        },
        {
          "type": "text",
          "id": "pack_size",
          "label": "Pack Size"
        },
        {
          "type": "text",
          "id": "card_price",
          "label": "Card Price"
        },
        {
          "type": "text",
          "id": "price_extra",
          "label": "Price Extra"
        },
        {
          "type": "text",
          "id": "card_list",
          "label": "Card List",
          "default": "3 premium stick packs (one of each flavor), Complete ingredient profile guide, 30-day money-back guarantee",
          "info": "Separate title with comma to split white & green text/new line"
        },
        {
          "type": "text",
          "id": "cta_text",
          "label": "CTA Link Text"
        },
        {
          "type": "url",
          "id": "cta_link",
          "label": "CTA Link"
        }
      ]
    }
  ]
}
{% endschema %}
