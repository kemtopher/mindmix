<footer class='bg-darker pt-16 pb-8'>
  <div class='container-custom'>
    <div class='flex flex-col mb-12'>
      <div class='flex wrap flex-col md:flex-row md:nowrap justify-between gap-10'>
        <div class='w-full lg:w-[40vw] max-w-full md:max-w-[400px] text-center md:text-left'>
          {% render 'logo' %}

          {% if section.settings.footer_text != blank %}
            <p class='text-light mt-4 mb-6 max-w-md'>
              {{ section.settings.footer_text }}
            </p>
          {% endif %}

          <div class='flex space-x-4'>
            {% if settings.social_facebook_url != blank %}
              <a
                href='{{ settings.social_facebook_url }}'
                class='text-light hover:text-primary transition-colors'
                aria-label='Facebook'
              >
                {% render 'icon-facebook' %}
              </a>
            {% endif %}

            {% if settings.social_twitter_url != blank %}
              <a
                href='{{ settings.social_twitter_url }}'
                class='text-light hover:text-primary transition-colors'
                aria-label='Twitter'
              >
                {% render 'icon-twitter' %}
              </a>
            {% endif %}

            {% if settings.social_instagram_url != blank %}
              <a
                href='{{ settings.social_instagram_url }}'
                class='text-light hover:text-primary transition-colors'
                aria-label='Instagram'
              >
                {% render 'icon-instagram' %}
              </a>
            {% endif %}

            {% if settings.social_youtube_url != blank %}
              <a
                href='{{ settings.social_youtube_url }}'
                class='text-light hover:text-primary transition-colors'
                aria-label='YouTube'
              >
                {% render 'icon-youtube' %}
              </a>
            {% endif %}
          </div>
        </div>

        {%- assign col1_blocks = section.blocks | where: 'type', 'column_1_link' -%}
        {%- assign col2_blocks = section.blocks | where: 'type', 'column_2_link' -%}
        {%- assign col3_blocks = section.blocks | where: 'type', 'column_3_link' -%}

        <div class='w-full md:w-[60vw] flex flex-col md:flex-row justify-end gap-8'>
          {%- if section.settings.column_1_heading != blank or col1_blocks.size > 0 -%}
            <div class='justify-self-end w-full md:w-1/5 min-w-full md:min-w-[150px] pt-5 md:pt-0 pb-2 md:pb-0 border-t md:border-none'>
              <div class='footer-link-group'>
                {% if section.settings.column_1_heading != blank %}
                  <h5 class='text-white font-semibold mb-4'>{{ section.settings.column_1_heading }}</h5>
                {% endif %}
                <ul class='space-y-2'>
                  {% for block in col1_blocks %}
                    <li>
                      <a href='{{ block.settings.link_url }}' class='text-light hover:text-primary transition-colors'>
                        {{ block.settings.link_label }}
                      </a>
                    </li>
                  {% endfor %}
                </ul>
              </div>
            </div>
          {%- endif -%}

          {%- if section.settings.column_2_heading != blank or col2_blocks.size > 0 -%}
            <div class='justify-self-end w-full md:w-1/5 min-w-full md:min-w-[150px] pt-5 md:pt-0 pb-2 md:pb-0 border-t md:border-none'>
              <div class='footer-link-group'>
                {% if section.settings.column_2_heading != blank %}
                  <h5 class='text-white font-semibold mb-4'>{{ section.settings.column_2_heading }}</h5>
                {% endif %}
                <ul class='space-y-2'>
                  {% for block in col2_blocks %}
                    <li>
                      <a href='{{ block.settings.link_url }}' class='text-light hover:text-primary transition-colors'>
                        {{ block.settings.link_label }}
                      </a>
                    </li>
                  {% endfor %}
                </ul>
              </div>
            </div>
          {%- endif -%}

          {%- if section.settings.column_3_heading != blank or col3_blocks.size > 0 -%}
            <div class='justify-self-end w-full md:w-1/5 min-w-full md:min-w-[150px] pt-5 md:pt-0 pb-2 md:pb-0 border-t md:border-none'>
              <div class='footer-link-group'>
                {% if section.settings.column_3_heading != blank %}
                  <h5 class='text-white font-semibold mb-4'>{{ section.settings.column_3_heading }}</h5>
                {% endif %}
                <ul class='space-y-2'>
                  {% for block in col3_blocks %}
                    <li>
                      <a href='{{ block.settings.link_url }}' class='text-light hover:text-primary transition-colors'>
                        {{ block.settings.link_label }}
                      </a>
                    </li>
                  {% endfor %}
                </ul>
              </div>
            </div>
          {%- endif -%}
        </div>
      </div>
      <!-- closes the flex wrap -->
    </div>
    <!-- closes the mb-12 block -->

    <div class='border-t border-gray-800 pt-8'>
      <div class='flex flex-col md:flex-row justify-between items-center'>
        <p class='text-light/60 text-sm mb-4 md:mb-0'>
          &copy; {{ 'now' | date: '%Y' }}
          {{ shop.name }}. All rights reserved.
        </p>

        <div class='flex space-x-6'>
          <a href='/pages/terms-and-conditions' class='text-light/60 hover:text-primary text-sm transition-colors'>
            Terms &amp; Conditions
          </a>
          <a href='/pages/privacy' class='text-light/60 hover:text-primary text-sm transition-colors'> Privacy </a>
          <a href='/pages/fda-disclaimer' class='text-light/60 hover:text-primary text-sm transition-colors'>
            FDA Disclaimer
          </a>
          <a href='/pages/affiliate-program' class='text-light/60 hover:text-primary text-sm transition-colors'>
            Affiliate Program
          </a>
        </div>
      </div>
      {% if section.settings.legal_text != blank %}
        <p class='text-light/40 text-xs mt-8 text-center'>
          {{ section.settings.legal_text }}
        </p>
      {% endif %}
    </div>
    <!-- closes border-t section -->
  </div>
  <!-- closes container-custom -->
</footer>

{% schema %}
{
  "name": "Footer",
  "settings": [
    {
      "type": "select",
      "id": "logo_variant",
      "label": "Logo color",
      "default": "white",
      "options": [
        {
          "value": "white",
          "label": "White"
        },
        {
          "value": "black",
          "label": "Black"
        },
        {
          "value": "brand_color",
          "label": "Brand color"
        }
      ]
    },
    {
      "type": "textarea",
      "id": "footer_text",
      "label": "Footer description",
      "default": "Unlock Your Mental Edge with our scientifically formulated nootropic drink mix designed for peak cognitive performance."
    },
    {
      "type": "text",
      "id": "column_1_heading",
      "label": "Column 1 heading",
      "default": "Shop"
    },
    {
      "type": "text",
      "id": "column_2_heading",
      "label": "Column 2 heading",
      "default": "Learn"
    },
    {
      "type": "text",
      "id": "column_3_heading",
      "label": "Column 3 heading",
      "default": "Support"
    },
    {
      "type": "textarea",
      "id": "legal_text",
      "label": "Footer legal description",
      "default": "*These statements have not been evaluated by the Food and Drug Administration. This product is not intended to diagnose, treat, cure, or prevent any disease."
    }
  ],
  "blocks": [
    {
      "type": "column_1_link",
      "name": "Column 1 link",
      "settings": [
        {
          "type": "text",
          "id": "link_label",
          "label": "Link label",
          "default": "Example link"
        },
        {
          "type": "url",
          "id": "link_url",
          "label": "Link URL"
        }
      ]
    },
    {
      "type": "column_2_link",
      "name": "Column 2 link",
      "settings": [
        {
          "type": "text",
          "id": "link_label",
          "label": "Link label",
          "default": "Example link"
        },
        {
          "type": "url",
          "id": "link_url",
          "label": "Link URL"
        }
      ]
    },
    {
      "type": "column_3_link",
      "name": "Column 3 link",
      "settings": [
        {
          "type": "text",
          "id": "link_label",
          "label": "Link label",
          "default": "Example link"
        },
        {
          "type": "url",
          "id": "link_url",
          "label": "Link URL"
        }
      ]
    }
  ],
  "max_blocks": 60,
  "presets": [
    {
      "name": "Custom footer",
      "category": "Footer"
    }
  ]
}
{% endschema %}
