{% comment %}
  MindMix Theme Layout
  - Handles base HTML structure
  - Includes necessary meta tags and SEO
  - Manages loading states and animations
{% endcomment %}

<!doctype html>
<html lang='en'>
  <head>
    <meta charset='UTF-8'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0'>
    <title>{{ page_title | escape }}</title>
    <meta name='description' content='{{ page_description | escape }}'>

    {% if template == 'index' and section.settings.hero_image != blank %}
      <link
        rel='preload'
        as='image'
        href='{{ section.settings.hero_image | image_url: width: 1200 }}'
        imagesrcset='
          {{ section.settings.hero_image | image_url: width: 768 }} 768w,
          {{ section.settings.hero_image | image_url: width: 1200 }} 1200w,
          {{ section.settings.hero_image | image_url: width: 1600 }} 1600w
        '
        imagesizes='100vw'
      >
    {% endif %}

    <link rel='preconnect' href='https://fonts.googleapis.com'>
    <link rel='preconnect' href='https://fonts.gstatic.com' crossorigin>
    <link
      href='https://fonts.googleapis.com/css2?family=Inter:wght@200;300;400;500;600;700&display=swap'
      rel='stylesheet'
    >

    {{ 'style.css' | asset_url | stylesheet_tag }}

    {{ 'theme.css' | asset_url | stylesheet_tag }}

    {{ content_for_header }}

    {% if settings.favicon != blank %}
      <link
        rel='icon'
        type='image/png'
        href='{{ settings.favicon | image_url: width: 32 }}'
      >
    {% endif %}

    {% if settings.apple_touch_icon != blank %}
      <link
        rel='apple-touch-icon'
        href='{{ settings.apple_touch_icon | image_url: width: 180 }}'
      >
    {% endif %}
  </head>
  <body class='bg-dark text-light'>
    {% section 'header' %}

    <main role='main' id='main-content' tabindex='-1'>
      {{ content_for_layout }}

      <section class='section-padding bg-darker relative'>
        <div class='container-custom relative max-w-4xl mx-auto'>
          {% section 'global-faq' %}
        </div>
      </section>
    </main>

    {% section 'newsletter-signup' %}
    {% section 'footer' %}

    <script>
      document.addEventListener('DOMContentLoaded', function () {
        // Initialize animations
        const observer = new IntersectionObserver(
          (entries) => {
            entries.forEach((entry) => {
              if (entry.isIntersecting) {
                entry.target.classList.add('is-visible');
              }
            });
          },
          { threshold: 0.1 }
        );

        document.querySelectorAll('.fade-in').forEach((el) => observer.observe(el));
      });
    </script>
  </body>
</html>
