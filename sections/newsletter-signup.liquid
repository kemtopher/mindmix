{% assign title = section.settings.heading | default: '' %}
{% assign parts = title | split: ',' %}
{% assign main_title = parts[0] | strip %}

<section class='newsletter-signup bg-dark text-light py-16'>
  <div class='container-custom mx-auto text-center max-w-xl px-4'>
    <h2 class='text-3xl md:text-4xl font-bold mb-4'>
      {{ main_title }}
      {% if parts.size > 1 %}
        <span class='text-primary'>
          {{ parts[1] | strip }}
        </span>
      {% endif %}
    </h2>
    <p class='text-light/80 mb-8'>
      {{ section.settings.subheading }}
    </p>

    <form
      method='post'
      action='/contact#newsletter-signup'
      id='newsletter-signup'
      accept-charset='UTF-8'
      class='flex flex-col sm:flex-row gap-4 justify-center'
    >
      <input type='hidden' name='form_type' value='customer'>
      <input type='hidden' name='utf8' value='âœ“'>
      <input type='hidden' name='contact[tags]' value='newsletter'>

      <input
        type='email'
        name='contact[email]'
        placeholder='Enter your email'
        class='flex-1 px-4 py-3 rounded text-dark max-w-lg md:max-w-md'
        required
      >
      <button
        type='submit'
        class='btn btn-mint px-8 py-4 text-lg font-bold hover:transform hover:scale-105 transition-transform'
      >
        {{ section.settings.button_label }}
      </button>
    </form>

    {% if form.posted_successfully? %}
      <p class='text-green-500 mt-4'>Thanks for subscribing!</p>
    {% endif %}
    {% if form.errors %}
      <p class='text-red-500 mt-4'>There was an error. Please try again.</p>
    {% endif %}
  </div>
</section>

{% schema %}
{
  "name": "Newsletter Signup",
  "tag": "section",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "JOIN THE PEAK PERFORMANCE COMMUNITY"
    },
    {
      "type": "text",
      "id": "subheading",
      "label": "Subheading",
      "default": "Get exclusive tips, research updates, and member-only discounts."
    },
    {
      "type": "text",
      "id": "button_label",
      "label": "Button Label",
      "default": "Unlock Insider Access"
    }
  ],
  "presets": [
    {
      "name": "Newsletter Signup",
      "category": "Promotional"
    }
  ]
}
{% endschema %}
